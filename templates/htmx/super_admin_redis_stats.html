{% if not redis_stats.error %}
<div class="row">
    <div class="col-12 mb-3">
        <div class="d-flex justify-content-between align-items-center">
            <span>Total Cache Keys</span>
            <span class="badge bg-primary fs-6">{{ "{:,}".format(redis_stats.cache_keys) }}</span>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-6">
        <div class="d-flex justify-content-between align-items-center mb-2">
            <span>Poll Cache</span>
            <span class="badge bg-success">{{ "{:,}".format(redis_stats.poll_cache_keys) }}</span>
        </div>
        <div class="d-flex justify-content-between align-items-center mb-2">
            <span>User Cache</span>
            <span class="badge bg-info">{{ "{:,}".format(redis_stats.user_cache_keys) }}</span>
        </div>
        <div class="d-flex justify-content-between align-items-center">
            <span>Sessions</span>
            <span class="badge bg-warning">{{ "{:,}".format(redis_stats.session_keys) }}</span>
        </div>
    </div>
    <div class="col-6">
        <div class="d-flex justify-content-between align-items-center mb-2">
            <span>Memory Used</span>
            <span class="badge bg-secondary">{{ redis_stats.total_memory }}</span>
        </div>
        <div class="d-flex justify-content-between align-items-center mb-2">
            <span>Hit Rate</span>
            <span class="badge bg-{{ 'success' if redis_stats.hit_rate > 80 else 'warning' if redis_stats.hit_rate > 60 else 'danger' }}">
                {{ "%.1f"|format(redis_stats.hit_rate) }}%
            </span>
        </div>
        <div class="d-flex justify-content-between align-items-center">
            <span>Status</span>
            <span class="badge bg-success">
                <i class="fas fa-check-circle me-1"></i>Healthy
            </span>
        </div>
    </div>
</div>

{% if redis_stats.hit_rate < 60 %}
<div class="alert alert-warning mt-3">
    <i class="fas fa-exclamation-triangle me-2"></i>
    <strong>Low Cache Hit Rate:</strong> Consider reviewing cache strategies or increasing cache TTL values.
</div>
{% endif %}

{% else %}
<div class="d-flex align-items-center mb-3">
    <i class="fas fa-exclamation-triangle text-danger fa-2x me-3"></i>
    <div>
        <h6 class="mb-0 text-danger">Cache Stats Unavailable</h6>
        <small class="text-muted">Unable to retrieve Redis statistics</small>
    </div>
</div>

<div class="alert alert-danger">
    <strong>Error:</strong> {{ redis_stats.error }}
</div>

<div class="text-center">
    <p class="text-muted">Cache performance monitoring is unavailable.</p>
</div>
{% endif %}
